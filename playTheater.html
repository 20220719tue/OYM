<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>극장</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="playTheater.css" />
    <!-- 폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Gugi&family=Inconsolata:wght@200..900&family=Krub:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&family=Quicksand:wght@300..700&family=Rajdhani:wght@300;400;500;600;700&family=Shadows+Into+Light&display=swap"
      rel="stylesheet"
    />
  </head>
  <body data-bs-spy="scroll">
    <!-- 네비게이션바 -->
    <nav class="navbar navbar-expand-md bg-body-tertiary fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand text-red" href="index.html">오늘 연극 뭐 볼까</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="festival.html">연극제</a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link active now"
                aria-current="page"
                href="playTheater.html"
                >극장</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="theater.html">극단</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="play.html">장르별</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="recommend.html">연극추천</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- 네비게이션바 끝 -->

    <!-- 메인 컨텐츠 -->
    <main class="container pt-5">
      <div class="row ms-3 me-3" id="theaterContainer"></div>
    </main>
    <!-- 메인 끝 -->

    <!-- 모달 -->
    <div
      class="modal fade"
      id="theaterModal"
      tabindex="-1"
      aria-labelledby="theaterModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="theaterModalLabel">극장 정보</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div id="modalContent"></div>
          </div>
        </div>
      </div>
    </div>
    <!-- 모달 끝 -->

    <footer class="btn-ibory text-white">
      <div class="container text-center">
        <p class="py-4 mb-0 text-red">
          Copyright <i class="bi bi-c-circle"></i>2024 Designed by 20220719tue
        </p>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const theaters = [
          {
            name: "아르코 예술극장",
            image: "img/playTheater1.jpg",
            address: "서울 종로구 대학로8길 7",
            performances: ["나는 멀리서 돌아온다", "휴먼볼트"],
            moreInfoLink:
              "https://theater.arko.or.kr/home/display/region/content/JSVFN3luaDVVVnlXT2pxZzQ3MDZTTjIrQTNodGdWdU9ObVBzeXFyUzg2TTYxOD0=",
            copyright:
              "https://theater.arko.or.kr/home/display/region/content/JSVFN3luaDVVVnlXT2pxZzQ3MDZTTjIrQTNodGdWdU9ObVBzeXFyUzg2TTYxOD0=",
            copyright_title: "아르코·대학로예술극장",
          },
          {
            name: "모두의 극장",
            image: "img/playTheater2.jpg",
            address: "서울 종로구 삼일대로 428 5층 모두의 극장",
            performances: ["젤리피쉬", "TIMELESS IN DMZ"],
            moreInfoLink: "https://www.moduarttheater.or.kr/Home/Main",
            copyright:
              "https://www.moduarttheater.or.kr/home/display/region/content/JSVFTGR4WUIxM1cwU1FPSEdDVWs1U1NPQ1dyRXJSbytNQ1gvNnI5VU1scG4xcz0=",
            copyright_title: "모두의 예술극장",
          },
          {
            name: "JTN 아트홀",
            image: "img/playTheater3.jpg",
            address: "서울 종로구 이화장길 26 대학로 JTN 아트홀",
            performances: [
              "진짜 나쁜 소녀",
              "인사이드 미",
              "오백에 삼십",
              "뷰티풀 라이프",
            ],
            moreInfoLink: "http://www.jtnarthall.com/",
            copyright: "http://www.jtnarthall.com/",
            copyright_title: "JTN ART HALL",
          },
          {
            name: "산울림 소극장",
            image: "img/playTheater4.jpg",
            address: "서울 마포구 와우산로 157 지층 소극장 산울림",
            performances: ["음악극 - 섬:1933~2019", "고등어", "정동다음_6월"],
            moreInfoLink: "http://www.sanwoollim.kr/",
            copyright: "http://www.sanwoollim.kr/company/place",
            copyright_title: "산울림",
          },
          {
            name: "정동극장",
            image: "img/playTheater5.jpg",
            address: "서울 중구 정동길 43",
            performances: ["나는 멀리서 돌아온다", "휴먼볼트"],
            moreInfoLink: "https://www.jeongdong.or.kr/portal/main/main.do",
            copyright:
              "https://www.jeongdong.or.kr/portal/main/contents.do?menuNo=200011",
            copyright_title: "정동극장",
          },
          {
            name: "연우소극장",
            image: "img/playTheater6.jpg",
            address: "서울 종로구 창경궁로35길 21 지하",
            performances: ["혼자서 가라"],
            moreInfoLink: "https://iyeonwoo.modoo.at/",
            copyright: "https://iyeonwoo.modoo.at/?link=bau822gw",
            copyright_title: "연우소극장",
          },
          {
            name: "국립극장",
            image: "img/playTheater7.jpg",
            address: "서울 중구 장충단로 59",
            performances: [
              "<탄, 명작의 생> 관객포커스 시연회",
              "사물놀이 땀띠 <땀띠 날다 20년>",
              "국립국악관현악단 야외 음악회 <애주가(愛酒歌)>",
            ],
            moreInfoLink: "https://www.ntok.go.kr/kr/Main/Index",
            copyright: "https://www.ntok.go.kr/kr/TheaterGuide/Venue/Haeoreum",
            copyright_title: "국립극장",
          },
          {
            name: "플러스 씨어터",
            image: "img/playTheater8.jpg",
            address: "서울 종로구 대학로12길 73",
            performances: ["여기, 피화당"],
            moreInfoLink: "https://plustheater.modoo.at/",
            copyright: "https://plustheater.modoo.at/?link=a05yzm0p",
            copyright_title: "플러스씨어터",
          },
          {
            name: "창동극장",
            image: "img/playTheater9.jpg",
            address: "서울 도봉구 노해로 391 지하2층",
            performances: ["마라사드"],
            moreInfoLink: "https://cdt.modoo.at/",
            copyright: "https://cdt.modoo.at/?link=fwyx9jv3",
            copyright_title: "창동극장",
          },
        ];

        const theaterContainer = document.getElementById("theaterContainer");

        theaters.forEach((theater, index) => {
          const theaterCard = document.createElement("div");
          theaterCard.classList.add("col-md-6", "col-lg-3", "mb-3");

          if (
            theater.image === "img/playTheater5.jpg" ||
            theater.image === "img/playTheater6.jpg"
          ) {
            theaterCard.classList.add("up");
          }
          if (
            theater.image === "img/playTheater7.jpg" ||
            theater.image === "img/playTheater8.jpg" ||
            theater.image === "img/playTheater9.jpg"
          ) {
            theaterCard.classList.add("col-lg-6");
            theaterCard.classList.add("col-md-12");
          }

          theaterCard.innerHTML = `
          <div class="square bg-dark">
  <div class="overlay" data-bs-toggle="modal" data-bs-target="#theaterModal" data-theater-index="${index}">
    <img
      src="${theater.image}"
      alt="${theater.name}"
      class=""
      data-theater-index="${index}"
    />
    <div class="overlay-text-wrapper">
      <div class="overlay-text">${theater.name}</div>
    </div>
  </div>
</div>

      <p class="text-center">
        <a href="${theater.copyright}" target="_blank">ⓒ이미지출처: ${theater.copyright_title}</a>
      </p>
    `;
          theaterContainer.appendChild(theaterCard);
        });

        const theaterModal = document.getElementById("theaterModal");
        const modalContent = document.getElementById("modalContent");

        theaterModal.addEventListener("show.bs.modal", function (event) {
          const theaterIndex =
            event.relatedTarget.getAttribute("data-theater-index");
          const theater = theaters[theaterIndex];

          modalContent.innerHTML = `
      <img src="${theater.image}" alt="${theater.name}" class="w-100" />
      <h5 class="text-center mt-5 mb-3">${theater.name}</h5>
      <p class="text-center">주소: ${theater.address}</p>
      <p class="text-center">공연: ${theater.performances.join(", ")} 등..</p>
      <div class="d-flex justify-content-center mb-4 mt-3">
        <a href="${
          theater.moreInfoLink
        }" class="btn btn-warning w-25 text-ibory btn-red" target="_blank">더 알아보기</a>
      </div>
    `;
        });
      });

      document.querySelectorAll(".overlay").forEach((overlay) => {
        overlay.addEventListener("click", function (event) {
          // 텍스트를 클릭한 경우, 해당 텍스트의 data-bs-target 속성으로 모달을 엽니다.
          if (event.target.classList.contains("overlay-text")) {
            const modalTarget = event.target.getAttribute("data-bs-target");
            const modal = document.querySelector(modalTarget);
            const modalInstance = new bootstrap.Modal(modal);
            modalInstance.show();
          }
          // 이미지 클릭 시에도 동일하게 모달을 엽니다.
          if (event.target.tagName === "IMG") {
            const img = event.target;
            const modalTarget = img.getAttribute("data-bs-target");
            const modal = document.querySelector(modalTarget);
            const modalInstance = new bootstrap.Modal(modal);
            modalInstance.show();
          }
        });
      });
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
